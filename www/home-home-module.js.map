{"version":3,"sources":["webpack:///./src/app/home/home.module.ts","webpack:///./src/app/home/home.page.html","webpack:///./src/app/home/home.page.scss","webpack:///./src/app/home/home.page.ts"],"names":[],"mappings":"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","file":"home-home-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: HomePage\n      }\n    ])\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>\\n      My Expense\\n    </ion-title>\\n    <ion-buttons end>\\n      <button ion-button icon-only (click)=\\\"addData()\\\">\\n        <ion-icon name=\\\"add-circle\\\"></ion-icon>\\n      </button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <h2>Expense List</h2>\\n  <ion-list>\\n    <ion-item-sliding *ngFor=\\\"let expense of expenses; let i=index\\\">\\n      <ion-item nopadding>\\n        <p>\\n          <span>{{expense.date}}</span><br>\\n          Type: {{expense.type}}<br>\\n          {{expense.description}}\\n        </p>\\n        <h3 item-end>\\n          Amount: ${{expense.amount}}\\n        </h3>\\n      </ion-item>\\n      <ion-item-options >\\n        <button ion-button color=\\\"primary\\\" (click)=\\\"editData(expense.rowid)\\\">\\n          <ion-icon name=\\\"paper\\\"></ion-icon>\\n        </button>\\n        <button ion-button color=\\\"danger\\\" (click)=\\\"deleteData(expense.rowid)\\\">\\n          <ion-icon name=\\\"trash\\\"></ion-icon>\\n        </button>\\n      </ion-item-options>\\n    </ion-item-sliding>\\n  </ion-list>\\n</ion-content>\\n<ion-footer>\\n  <ion-toolbar>\\n    <ion-title>Balance: ${{balance}}</ion-title>\\n  </ion-toolbar>\\n</ion-footer>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MifQ== */\"","import { Component } from '@angular/core';\nimport { NavController } from '@ionic/angular';\nimport { SQLite, SQLiteObject } from '@ionic-native/sqlite/ngx';\n//import { AddDataPage } from '../add-data/add-data.page';\n//import { EditDataPage } from '../edit-data/edit-data';\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage {\n  expenses: any = [];\n  totalIncome = 0;\n  totalExpense = 0;\n  balance = 0;\n  constructor(\n    public navCtrl: NavController,\n    private sqlite: SQLite) {}\n\n    ionViewDidLoad() {\n      this.getData();\n    }\n    \n    ionViewWillEnter() {\n      this.getData();\n    }\n    \n    getData() {\n      this.sqlite.create({\n        name: 'ionicdb.db',\n        location: 'default'\n      }).then((db: SQLiteObject) => {\n        db.executeSql('CREATE TABLE IF NOT EXISTS expense(rowid INTEGER PRIMARY KEY, date TEXT, type TEXT, description TEXT, amount INT)', [])\n        .then(res => console.log('Executed SQL'))\n        .catch(e => console.log(e));\n        db.executeSql('SELECT * FROM expense ORDER BY rowid DESC', [])\n        .then(res => {\n          this.expenses = [];\n          for(var i=0; i<res.rows.length; i++) {\n            this.expenses.push({rowid:res.rows.item(i).rowid,date:res.rows.item(i).date,type:res.rows.item(i).type,description:res.rows.item(i).description,amount:res.rows.item(i).amount})\n          }\n        })\n        .catch(e => console.log(e));\n        db.executeSql('SELECT SUM(amount) AS totalIncome FROM expense WHERE type=\"Income\"', [])\n        .then(res => {\n          if(res.rows.length>0) {\n            this.totalIncome = parseInt(res.rows.item(0).totalIncome);\n            this.balance = this.totalIncome-this.totalExpense;\n          }\n        })\n        .catch(e => console.log(e));\n        db.executeSql('SELECT SUM(amount) AS totalExpense FROM expense WHERE type=\"Expense\"', [])\n        .then(res => {\n          if(res.rows.length>0) {\n            this.totalExpense = parseInt(res.rows.item(0).totalExpense);\n            this.balance = this.totalIncome-this.totalExpense;\n          }\n        })\n      }).catch(e => console.log(e));\n    }\n    \n    addData() {\n     this.navCtrl.navigateForward('add-data');\n    }\n    \n    editData(rowid) {\n  //    this.navCtrl.navigateForward('EditDataPage', {\n     //   rowid:rowid\n    //  });\n    }\n    \n    deleteData(rowid) {\n      this.sqlite.create({\n        name: 'ionicdb.db',\n        location: 'default'\n      }).then((db: SQLiteObject) => {\n        db.executeSql('DELETE FROM expense WHERE rowid=?', [rowid])\n        .then(res => {\n          console.log(res);\n          this.getData();\n        })\n        .catch(e => console.log(e));\n      }).catch(e => console.log(e));\n    }\n}\n"],"sourceRoot":""}